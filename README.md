<div align="center">

<img src="frontend/src/logo.png" alt="QYQuant Logo" width="120" height="120"/>

# QYQuant é‡åŒ–äº¤æ˜“å¹³å°

**ä¸“ä¸šçš„æ•°å­—è´§å¸é‡åŒ–äº¤æ˜“å›æµ‹ä¸æ¨¡æ‹Ÿäº¤æ˜“å¹³å°**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Vue 3](https://img.shields.io/badge/Vue-3.4-42b883?logo=vue.js&logoColor=white)](https://vuejs.org/)
[![Flask](https://img.shields.io/badge/Flask-3.0-000000?logo=flask&logoColor=white)](https://flask.palletsprojects.com/)
[![Python](https://img.shields.io/badge/Python-3.10+-blue?logo=python&logoColor=white)](https://www.python.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.3-3178C6?logo=typescript&logoColor=white)](https://www.typescriptlang.org/)

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„) â€¢ [API æ–‡æ¡£](#-api-æ–‡æ¡£) â€¢ [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)

[English](#english) | [ä¸­æ–‡](#ä¸­æ–‡)

</div>

---

## ä¸­æ–‡

### ğŸ“– é¡¹ç›®ç®€ä»‹

QYQuant æ˜¯ä¸€ä¸ªå…¨æ ˆé‡åŒ–äº¤æ˜“å¹³å°ï¼Œæä¾›ç­–ç•¥å›æµ‹ã€æ¨¡æ‹Ÿäº¤æ˜“ã€ç¤¾åŒºäº¤æµç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ”¯æŒä¸­è‹±æ–‡åŒè¯­ç•Œé¢ã€‚

### âœ¨ åŠŸèƒ½ç‰¹æ€§

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | æè¿° |
|:---:|:---|
| ğŸ¯ **ç­–ç•¥ç®¡ç†** | åˆ›å»ºã€ç¼–è¾‘ã€ç‰ˆæœ¬æ§åˆ¶äº¤æ˜“ç­–ç•¥ |
| ğŸ“ˆ **å†å²å›æµ‹** | åŸºäº Celery å¼‚æ­¥ä»»åŠ¡çš„é«˜æ€§èƒ½å›æµ‹å¼•æ“ |
| ğŸ¤– **æ¨¡æ‹Ÿäº¤æ˜“** | çº¸é¢äº¤æ˜“æœºå™¨äººï¼Œå®æ—¶ç›‘æ§ç­–ç•¥è¡¨ç° |
| ğŸ’¬ **ç¤¾åŒºè®ºå›** | ç­–ç•¥åˆ†äº«ã€è¯„è®ºã€ç‚¹èµã€æ‰“èµåŠŸèƒ½ |
| ğŸ“ **æ–‡ä»¶ç®¡ç†** | ç­–ç•¥æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ï¼Œæ”¯æŒç‰ˆæœ¬ç®¡ç† |
| ğŸ” **ç”¨æˆ·ç³»ç»Ÿ** | JWT è®¤è¯ã€ç”¨æˆ·èµ„æ–™ã€å…³æ³¨åŠŸèƒ½ |

#### æŠ€æœ¯äº®ç‚¹

<div align="center">

![Vue](https://img.shields.io/badge/Vue-3-42b883?style=for-the-badge&logo=vue.js&logoColor=white)
![TypeScript](https://img.shields.io/badge/TypeScript-5.3-3178C6?style=for-the-badge&logo=typescript&logoColor=white)
![Pinia](https://img.shields.io/badge/Pinia-Store-ffcd69?style=for-the-badge&logo=pinia&logoColor=white)
![Flask](https://img.shields.io/badge/Flask-API-000000?style=for-the-badge&logo=flask&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-336791?style=for-the-badge&logo=postgresql&logoColor=white)
![Redis](https://img.shields.io/badge/Redis-7-DC382D?style=for-the-badge&logo=redis&logoColor=white)
![Celery](https://img.shields.io/badge/Celery-5.3-37814A?style=for-the-badge&logo=celery&logoColor=white)

</div>

- ğŸ¨ **ç°ä»£åŒ– UI** - Vue 3 ç»„åˆå¼ API + TypeScript
- ğŸŒ **å›½é™…åŒ–** - å†…ç½®ä¸­è‹±æ–‡åŒè¯­æ”¯æŒ
- ğŸ“Š **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ğŸ” **å®‰å…¨è®¤è¯** - JWT Token + åŠ å¯†å­˜å‚¨
- âš¡ **å¼‚æ­¥ä»»åŠ¡** - Celery + Redis ä»»åŠ¡é˜Ÿåˆ—
- ğŸ—„ï¸ **æ•°æ®æŒä¹…åŒ–** - PostgreSQL + SQLAlchemy ORM
- ğŸ§ª **å®Œå–„æµ‹è¯•** - Vitest (å‰ç«¯) + Pytest (åç«¯)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

| ä¾èµ– | ç‰ˆæœ¬è¦æ±‚ | å›¾æ ‡ |
|------|---------|------|
| Node.js | 18+ (æ¨è 18/20) | ![Node.js](https://img.shields.io/badge/Node.js-18+-339933?logo=node.js&logoColor=white) |
| Python | 3.10+ | ![Python](https://img.shields.io/badge/Python-3.10+-blue?logo=python&logoColor=white) |
| npm | æœ€æ–°ç‰ˆ | ![npm](https://img.shields.io/badge/npm-latest-CB3837?logo=npm&logoColor=white) |
| Docker | (å¯é€‰ï¼Œç”¨äºæ•°æ®åº“æœåŠ¡) | ![Docker](https://img.shields.io/badge/Docker-Optional-2496ED?logo=docker&logoColor=white) |

### ğŸ“¥ 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/MapleQiAN/QYQuant.git
cd QYQuant
```

### ğŸ³ æ–¹å¼ä¸€ï¼šDocker ä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

<div align="center">

![Docker](https://img.shields.io/badge/Docker-æ”¯æŒ-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![Docker Compose](https://img.shields.io/badge/Docker%20Compose-æ”¯æŒ-2496ED?style=for-the-badge&logo=docker&logoColor=white)

ä¸€é”®éƒ¨ç½²å…¨éƒ¨æœåŠ¡ï¼šå‰ç«¯ + åç«¯ + æ•°æ®åº“ + Redis + Celery

</div>

#### ğŸ¯ å¿«é€Ÿå¯åŠ¨

**Linux / macOS:**

```bash
chmod +x deploy.sh
./deploy.sh
```

**Windows (PowerShell):**

```powershell
.\deploy.ps1
```

#### ğŸ› ï¸ æ‰‹åŠ¨éƒ¨ç½²

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œä¿®æ”¹å¯†ç å’Œå¯†é’¥é…ç½®

# 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆå‰ç«¯ã€åç«¯ã€æ•°æ®åº“ã€Redisã€Celeryï¼‰
docker compose up -d

# 3. åˆå§‹åŒ–æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰
docker compose exec backend flask db upgrade

# 4. æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker compose ps

# 5. æŸ¥çœ‹æ—¥å¿—
docker compose logs -f
```

#### ğŸ“Š æœåŠ¡è¯´æ˜

Docker éƒ¨ç½²åŒ…å«ä»¥ä¸‹æœåŠ¡ï¼š

| æœåŠ¡ | æè¿° | ç«¯å£ |
|:---:|:-----|:-----|
| **frontend** | Vue 3 å‰ç«¯åº”ç”¨ (Nginx) | 80 |
| **backend** | Flask API æœåŠ¡ (Gunicorn) | 5000 |
| **celery-worker** | Celery å¼‚æ­¥ä»»åŠ¡å¤„ç† | - |
| **celery-beat** | Celery å®šæ—¶ä»»åŠ¡è°ƒåº¦ | - |
| **postgres** | PostgreSQL æ•°æ®åº“ | 5432 |
| **redis** | Redis ç¼“å­˜å’Œæ¶ˆæ¯é˜Ÿåˆ— | 6379 |

<div align="center">

**ğŸŒ è®¿é—®åœ°å€**: `http://localhost`

**ğŸ”‘ é»˜è®¤è´¦å·**: `admin / admin123`

</div>

#### ğŸ“ å¸¸ç”¨å‘½ä»¤

```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
docker compose down

# é‡å¯æœåŠ¡
docker compose restart

# é‡æ–°æ„å»ºé•œåƒ
docker compose build --no-cache

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker compose logs -f [æœåŠ¡å]

# è¿›å…¥å®¹å™¨
docker compose exec backend bash
docker compose exec postgres psql -U qyquant -d qyquant

# æ¸…ç†æ•°æ®ï¼ˆè°¨æ…æ“ä½œï¼‰
docker compose down -v  # åˆ é™¤æ‰€æœ‰æ•°æ®å·
```

#### ğŸ”§ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **ï¼šç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œä¿®æ”¹æ‰€æœ‰å¯†ç å’Œå¯†é’¥
2. **é…ç½® HTTPS**ï¼šä½¿ç”¨ Nginx åå‘ä»£ç† + Let's Encrypt è¯ä¹¦
3. **æ•°æ®å¤‡ä»½**ï¼šå®šæœŸå¤‡ä»½ PostgreSQL æ•°æ®å·
4. **èµ„æºé™åˆ¶**ï¼šæ ¹æ®æœåŠ¡å™¨é…ç½®è°ƒæ•´ `docker-compose.yml` ä¸­çš„èµ„æºé™åˆ¶
5. **æ—¥å¿—ç®¡ç†**ï¼šé…ç½®æ—¥å¿—è½®è½¬ï¼Œé¿å…ç£ç›˜å æ»¡

---

### ğŸ’» æ–¹å¼äºŒï¼šæœ¬åœ°éƒ¨ç½²ï¼ˆä¸ä½¿ç”¨ Dockerï¼‰

<div align="center">

![Node.js](https://img.shields.io/badge/æœ¬åœ°éƒ¨ç½²-å®Œæ•´æŒ‡å—-339933?style=for-the-badge&logo=none)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-æ‰‹åŠ¨å®‰è£…-336791?style=for-the-badge&logo=postgresql&logoColor=white)
![Redis](https://img.shields.io/badge/Redis-æ‰‹åŠ¨å®‰è£…-DC382D?style=for-the-badge&logo=redis&logoColor=white)

é€‚ç”¨äºéœ€è¦å®Œå…¨æ§åˆ¶æœ¬åœ°å¼€å‘ç¯å¢ƒçš„å¼€å‘è€…

</div>

#### ğŸ“¦ ç¬¬ä¸€æ­¥ï¼šå®‰è£…ç³»ç»Ÿä¾èµ–

**1. å®‰è£… PostgreSQL 15+**

- **Windows**ï¼šä» [PostgreSQL å®˜ç½‘](https://www.postgresql.org/download/windows/) ä¸‹è½½å®‰è£…
- **macOS**ï¼š`brew install postgresql@15`
- **Linux (Ubuntu/Debian)**ï¼š
  ```bash
  sudo apt update
  sudo apt install postgresql postgresql-contrib
  sudo systemctl start postgresql
  ```

**2. å®‰è£… Redis 7+**

- **Windows**ï¼š
  - æ¨èï¼šä½¿ç”¨ WSL2 å®‰è£… Linux ç‰ˆ Redis
  - æˆ–ä¸‹è½½ [Redis for Windows](https://github.com/microsoftarchive/redis/releases)
- **macOS**ï¼š`brew install redis`
- **Linux (Ubuntu/Debian)**ï¼š
  ```bash
  sudo apt install redis-server
  sudo systemctl start redis
  ```

**3. éªŒè¯å®‰è£…**

```bash
# æ£€æŸ¥ PostgreSQL
psql --version

# æ£€æŸ¥ Redis
redis-cli ping  # åº”è¿”å› PONG
```

#### ğŸ—„ï¸ ç¬¬äºŒæ­¥ï¼šé…ç½®æ•°æ®åº“

**1. åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·**

```bash
# è¿æ¥åˆ° PostgreSQL
psql -U postgres

# åœ¨ PostgreSQL å‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼š
CREATE DATABASE qyquant;
CREATE USER postgres WITH PASSWORD 'postgres';
GRANT ALL PRIVILEGES ON DATABASE qyquant TO postgres;
\q
```

**2. éªŒè¯è¿æ¥**

```bash
psql -U postgres -d qyquant -c "SELECT version();"
```

#### ğŸ”§ ç¬¬ä¸‰æ­¥ï¼šé…ç½®åç«¯ç¯å¢ƒ

**1. è¿›å…¥åç«¯ç›®å½•**

```bash
cd backend
```

**2. é…ç½®ç¯å¢ƒå˜é‡**

ç¼–è¾‘ `.env.development` æ–‡ä»¶ï¼ˆæˆ–ä» `.env.example` å¤åˆ¶ï¼‰ï¼š

```env
FLASK_ENV=development
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/qyquant
REDIS_URL=redis://localhost:6379/0
SECRET_KEY=your-secret-key-here
JWT_SECRET=your-jwt-secret-key
FERNET_KEY=your-fernet-key
CORS_ORIGINS=http://localhost:5173,http://localhost:5174
BACKTEST_DATA_PROVIDER=binance
BINANCE_BASE_URL=https://api.binance.com
```

**3. åˆ›å»º Python è™šæ‹Ÿç¯å¢ƒ**

```bash
# Windows
python -m venv .venv
.\.venv\Scripts\Activate.ps1

# Linux/macOS
python3 -m venv .venv
source .venv/bin/activate
```

**4. å®‰è£… Python ä¾èµ–**

```bash
pip install --upgrade pip
pip install -r requirements.txt
```

**5. åˆå§‹åŒ–æ•°æ®åº“**

```bash
# è¿è¡Œæ•°æ®åº“è¿ç§»
flask db upgrade

# åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼ˆå¯é€‰ï¼‰
python scripts/seed.py
```

<div align="center">

**ğŸ”‘ é»˜è®¤è´¦å·**: `admin / admin123`

</div>

**6. å¯åŠ¨åç«¯æœåŠ¡**

```bash
# å¯åŠ¨ Flask å¼€å‘æœåŠ¡å™¨
flask --app app run
```

åç«¯å°†åœ¨ `http://127.0.0.1:5000` å¯åŠ¨ã€‚

**7. å¯åŠ¨ Celery Workerï¼ˆå¯é€‰ï¼Œç”¨äºå¼‚æ­¥ä»»åŠ¡ï¼‰**

```bash
# ç»ˆç«¯ 1ï¼šå¯åŠ¨ Celery Worker
celery -A app.celery_app worker --loglevel=info

# ç»ˆç«¯ 2ï¼ˆå¯é€‰ï¼‰ï¼šå¯åŠ¨ Celery Beat å®šæ—¶ä»»åŠ¡
celery -A app.celery_app beat --loglevel=info
```

#### ğŸ¨ ç¬¬å››æ­¥ï¼šå¯åŠ¨å‰ç«¯æœåŠ¡

**1. è¿›å…¥å‰ç«¯ç›®å½•**

```bash
cd frontend
```

**2. å®‰è£… Node.js ä¾èµ–**

```bash
npm install
```

**3. é…ç½®ç¯å¢ƒå˜é‡**

åˆ›å»º `.env.development` æ–‡ä»¶ï¼š

```env
VITE_API_BASE_URL=http://localhost:5000/api
```

**4. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨**

```bash
npm run dev
```

å‰ç«¯å°†åœ¨ `http://127.0.0.1:5173` å¯åŠ¨ã€‚

#### ğŸ‰ ç¬¬äº”æ­¥ï¼šè®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://127.0.0.1:5173](http://127.0.0.1:5173)

<div align="center">

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|:---:|:-----|:-----|
| **å‰ç«¯åº”ç”¨** | http://127.0.0.1:5173 | Vue 3 å¼€å‘æœåŠ¡å™¨ |
| **åç«¯ API** | http://127.0.0.1:5000 | Flask å¼€å‘æœåŠ¡å™¨ |
| **API æ–‡æ¡£** | http://127.0.0.1:5000/api/docs | Swagger UI |

</div>

#### ğŸ” æ•…éšœæ’é™¤

**PostgreSQL è¿æ¥å¤±è´¥**

```bash
# æ£€æŸ¥ PostgreSQL æœåŠ¡çŠ¶æ€
# Linux
sudo systemctl status postgresql

# macOS
brew services list

# Windows
# æ£€æŸ¥æœåŠ¡ä¸­çš„ PostgreSQL æœåŠ¡
```

**Redis è¿æ¥å¤±è´¥**

```bash
# æ£€æŸ¥ Redis æœåŠ¡çŠ¶æ€
# Linux
sudo systemctl status redis

# macOS
brew services list

# å¯åŠ¨ Redis
redis-server
```

**ç«¯å£è¢«å ç”¨**

```bash
# æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ
# Windows
netstat -ano | findstr :5000
netstat -ano | findstr :5432
netstat -ano | findstr :6379

# Linux/macOS
lsof -i :5000
lsof -i :5432
lsof -i :6379
```

**Python ä¾èµ–å®‰è£…å¤±è´¥**

```bash
# å‡çº§ pip
pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒæºï¼ˆå¯é€‰ï¼‰
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

#### ğŸ“ å¼€å‘æç¤º

- **çƒ­é‡è½½**ï¼šFlask å’Œ Vite éƒ½æ”¯æŒçƒ­é‡è½½ï¼Œä¿®æ”¹ä»£ç åä¼šè‡ªåŠ¨é‡å¯
- **è°ƒè¯•æ¨¡å¼**ï¼šå¼€å‘æ¨¡å¼ä¸‹ Flask ä¼šæ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
- **æ—¥å¿—æŸ¥çœ‹**ï¼šåç«¯æ—¥å¿—ä¼šåœ¨ç»ˆç«¯ç›´æ¥è¾“å‡º
- **æ•°æ®åº“ç®¡ç†**ï¼šå¯ä½¿ç”¨ pgAdminã€DBeaver ç­‰ GUI å·¥å…·ç®¡ç† PostgreSQL

---

### ğŸ”§ 2. å¯åŠ¨åç«¯æœåŠ¡

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Docker (æ¨è)

```bash
cd backend
docker compose up -d  # å¯åŠ¨ PostgreSQL + Redis
python -m venv .venv

# Windows
.\.venv\Scripts\Activate.ps1

# Linux/Mac
source .venv/bin/activate

pip install -r requirements.txt
flask --app app run
```

#### æ–¹å¼äºŒï¼šæœ¬åœ°æ•°æ®åº“

ä¿®æ”¹ `backend/.env.development` ä¸­çš„æ•°æ®åº“é…ç½®ï¼Œç„¶åè¿è¡Œï¼š

```bash
cd backend
pip install -r requirements.txt
flask --app app run
```

<div align="center">

**ğŸŒ åç«¯åœ°å€**: `http://127.0.0.1:5000`

**ğŸ”‘ é»˜è®¤è´¦å·**: `admin / admin123` (è¿è¡Œ `python scripts/seed.py` åˆ›å»º)

</div>

### ğŸ¨ 3. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd frontend
npm install
npm run dev
```

<div align="center">

**ğŸŒ å‰ç«¯åœ°å€**: `http://127.0.0.1:5173`

</div>

### ğŸ‰ 4. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://127.0.0.1:5173`ï¼Œå¼€å§‹ä½¿ç”¨ QYQuantï¼

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ğŸ“± å‰ç«¯æŠ€æœ¯æ ˆ

```text
Vue 3 + Vite
â”œâ”€â”€ ğŸ¨ UI æ¡†æ¶: Vue 3 Composition API
â”œâ”€â”€ ğŸ”· ç±»å‹ç³»ç»Ÿ: TypeScript 5.3
â”œâ”€â”€ ğŸ“¦ çŠ¶æ€ç®¡ç†: Pinia
â”œâ”€â”€ ğŸ›£ï¸ è·¯ç”±ç®¡ç†: Vue Router 4
â”œâ”€â”€ ğŸŒ HTTP å®¢æˆ·ç«¯: Axios
â”œâ”€â”€ ğŸŒ å›½é™…åŒ–: Vue I18n
â”œâ”€â”€ ğŸ”” é€šçŸ¥æç¤º: Vue Toastification
â”œâ”€â”€ âš¡ æ„å»ºå·¥å…·: Vite 5
â”œâ”€â”€ ğŸ§ª æµ‹è¯•æ¡†æ¶: Vitest + Vue Test Utils
â””â”€â”€ ğŸ­ Mock æœåŠ¡: MSW (å¼€å‘ä¸­)
```

### ğŸ”§ åç«¯æŠ€æœ¯æ ˆ

```text
Flask + Python 3.10+
â”œâ”€â”€ ğŸŒ Web æ¡†æ¶: Flask 3.0
â”œâ”€â”€ ğŸ—„ï¸ ORM: SQLAlchemy
â”œâ”€â”€ ğŸ”„ æ•°æ®åº“è¿ç§»: Alembic (Flask-Migrate)
â”œâ”€â”€ ğŸ“š API æ–‡æ¡£: Flask-Smorest (OpenAPI 3.0)
â”œâ”€â”€ ğŸ” è®¤è¯æˆæƒ: Flask-JWT-Extended
â”œâ”€â”€ âš™ï¸ å¼‚æ­¥ä»»åŠ¡: Celery 5.3
â”œâ”€â”€ ğŸ”´ ç¼“å­˜é˜Ÿåˆ—: Redis 7
â”œâ”€â”€ ğŸ˜ æ•°æ®åº“: PostgreSQL 15
â”œâ”€â”€ ğŸ”’ åŠ å¯†åº“: Cryptography (Fernet)
â””â”€â”€ ğŸ§ª æµ‹è¯•æ¡†æ¶: Pytest + Pytest-Flask
```

### ğŸ“‚ é¡¹ç›®ç»“æ„

```text
QYQuant/
â”œâ”€â”€ ğŸ“ frontend/                 # Vue 3 å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“¡ api/             # API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ ğŸ¨ components/      # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“¦ stores/          # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ‘ï¸ views/           # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ ğŸ”· types/           # TypeScript ç±»å‹
â”‚   â”‚   â”œâ”€â”€ ğŸŒ i18n/            # å›½é™…åŒ–é…ç½®
â”‚   â”‚   â””â”€â”€ ğŸ›£ï¸ router/          # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ ğŸ“¦ package.json
â”‚   â””â”€â”€ âš™ï¸ vite.config.ts
â”‚
â”œâ”€â”€ ğŸ“ backend/                 # Flask åç«¯ API
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‹ blueprints/      # API è“å›¾æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ğŸ—ƒï¸ models/          # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ schemas/         # Marshmallow åºåˆ—åŒ–
â”‚   â”‚   â”œâ”€â”€ ğŸ“Š backtest/        # å›æµ‹å¼•æ“
â”‚   â”‚   â”œâ”€â”€ âš™ï¸ tasks/           # Celery ä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ ğŸ› ï¸ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ âš™ï¸ config.py        # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ ğŸ”Œ extensions.py    # Flask æ‰©å±•
â”‚   â”œâ”€â”€ ğŸ”„ migrations/          # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ ğŸ§ª tests/               # åç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ ğŸ“œ scripts/             # è„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ ğŸ“¦ requirements.txt
â”‚   â””â”€â”€ ğŸ³ docker-compose.yml
â”‚
â””â”€â”€ ğŸ“ docs/                    # é¡¹ç›®æ–‡æ¡£
    â”œâ”€â”€ ğŸ“„ api-contract.md
    â””â”€â”€ ğŸ“‹ plans/               # è®¾è®¡æ–‡æ¡£
```

---

## ğŸ“¡ API æ–‡æ¡£

### ğŸŒ åŸºç¡€ä¿¡æ¯

<div align="center">

**Base URL**: `/api`

**è®¤è¯æ–¹å¼**: ğŸ”‘ JWT Bearer Token

**å“åº”æ ¼å¼**: ğŸ“¦ ç»Ÿä¸€ä¿¡å°æ ¼å¼

</div>

### âœ… æˆåŠŸå“åº”

```json
{
  "code": 0,
  "message": "ok",
  "data": { /* ä¸šåŠ¡æ•°æ® */ },
  "request_id": "uuid"
}
```

### âŒ é”™è¯¯å“åº”

```json
{
  "code": "40001",
  "message": "å‚æ•°éªŒè¯å¤±è´¥",
  "details": { /* è¯¦ç»†ä¿¡æ¯ */ }
}
```

### ğŸ”Œ æ ¸å¿ƒæ¥å£

#### ğŸ” è®¤è¯æ¨¡å— `/api/auth`

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|:---:|:-----|:-----|
| POST | `/login` | ç”¨æˆ·ç™»å½•ï¼Œè¿”å› access_token |

#### ğŸ‘¤ ç”¨æˆ·æ¨¡å— `/api/users`

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|:---:|:-----|:-----|
| GET | `/me` | è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ |

#### ğŸ“Š ç­–ç•¥æ¨¡å— `/api/strategies`

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|:---:|:-----|:-----|
| GET | `/recent` | è·å–æœ€è¿‘ç­–ç•¥åˆ—è¡¨ |

#### ğŸ“ˆ å›æµ‹æ¨¡å— `/api/backtests`

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|:---:|:-----|:-----|
| POST | `/run` | åˆ›å»ºå›æµ‹ä»»åŠ¡ï¼Œè¿”å› job_id |
| GET | `/job/<job_id>` | æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€å’Œç»“æœ |
| GET | `/latest` | è·å–æœ€æ–°å›æµ‹æ¦‚è§ˆ |

#### ğŸ¤– æœºå™¨äººæ¨¡å— `/api/bots`

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|:---:|:-----|:-----|
| GET | `/recent` | è·å–æœ€è¿‘è¿è¡Œçš„æœºå™¨äºº |
| POST | `/` | åˆ›å»ºæ–°çš„æœºå™¨äººå®ä¾‹ |
| PATCH | `/<id>/status` | æ›´æ–°æœºå™¨äººè¿è¡ŒçŠ¶æ€ |
| GET | `/<id>/performance` | è·å–æœºå™¨äººç»©æ•ˆæ•°æ® |

#### ğŸ’¬ è®ºå›æ¨¡å— `/api/forum`

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|:---:|:-----|:-----|
| GET | `/hot` | è·å–çƒ­é—¨å¸–å­ |
| POST | `/posts` | åˆ›å»ºæ–°å¸–å­ |
| POST | `/posts/<id>/comments` | å‘è¡¨è¯„è®º |
| POST | `/posts/<id>/like` | ç‚¹èµ/å–æ¶ˆç‚¹èµ |

#### ğŸ“ æ–‡ä»¶æ¨¡å— `/api/files`

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|:---:|:-----|:-----|
| POST | `/` | ä¸Šä¼ æ–‡ä»¶ |
| GET | `/<id>` | ä¸‹è½½æ–‡ä»¶ |

<div align="center">

ğŸ“– **è¯¦ç»† API æ–‡æ¡£è¯·è®¿é—®**: [`/api/docs`](http://localhost:5000/api/docs) (Swagger UI)

</div>

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### âš™ï¸ ç¯å¢ƒå˜é‡é…ç½®

#### ğŸ”§ åç«¯ `backend/.env.development`

```env
FLASK_ENV=development
FLASK_DEBUG=1
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/qyquant
SECRET_KEY=your-secret-key-here
JWT_SECRET_KEY=your-jwt-secret-key
CORS_ORIGINS=http://localhost:5173
REDIS_URL=redis://localhost:6379/0
```

#### ğŸ¨ å‰ç«¯ `frontend/.env.development`

```env
VITE_API_BASE_URL=http://localhost:5000/api
```

### ğŸ—„ï¸ æ•°æ®åº“è¿ç§»

```bash
cd backend

# åˆ›å»ºè¿ç§»
flask db migrate -m "æè¿°ä¿¡æ¯"

# æ‰§è¡Œè¿ç§»
flask db upgrade

# å›æ»šè¿ç§»
flask db downgrade
```

### ğŸ§ª è¿è¡Œæµ‹è¯•

#### ğŸ”§ åç«¯æµ‹è¯•

```bash
cd backend
pytest                          # è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest tests/test_backtests.py  # è¿è¡Œç‰¹å®šæµ‹è¯•
pytest -v                       # è¯¦ç»†è¾“å‡º
pytest --cov=app                # ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```

#### ğŸ¨ å‰ç«¯æµ‹è¯•

```bash
cd frontend
npm test               # è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test:ui        # Vitest UI æ¨¡å¼
```

### âš™ï¸ Celery ä»»åŠ¡é˜Ÿåˆ—

```bash
cd backend

# å¯åŠ¨ Celery Worker
celery -A app.celery_app worker --loglevel=info

# å¯åŠ¨ Celery Beat (å®šæ—¶ä»»åŠ¡)
celery -A app.celery_app beat --loglevel=info
```

### ğŸ’» å¯ç”¨å‘½ä»¤

#### ğŸ”§ åç«¯ Make å‘½ä»¤

```bash
cd backend
make dev    # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```

#### ğŸ¨ å‰ç«¯ npm è„šæœ¬

```bash
cd frontend
npm run dev       # å¼€å‘æœåŠ¡å™¨
npm run build     # ç”Ÿäº§æ„å»º
npm run preview   # é¢„è§ˆæ„å»ºç»“æœ
npm run test      # è¿è¡Œæµ‹è¯•
```

---

## ğŸ› æ•…éšœæ’é™¤

### â“ PowerShell æ— æ³•æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

```powershell
Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass
.\.venv\Scripts\Activate.ps1
```

### ğŸ”Œ ç«¯å£è¢«å ç”¨

**ä¿®æ”¹åç«¯ç«¯å£**:

```python
# backend/app/config.py
DEBUG = True
PORT = 5001  # ä¿®æ”¹ç«¯å£
```

**ä¿®æ”¹å‰ç«¯ä»£ç†**:

```typescript
// frontend/vite.config.ts
server: {
  proxy: {
    '/api': {
      target: 'http://127.0.0.1:5001', // ä¿®æ”¹ç›®æ ‡ç«¯å£
    }
  }
}
```

### ğŸ—„ï¸ æ•°æ®åº“è¿æ¥å¤±è´¥

<div align="center">

1ï¸âƒ£ æ£€æŸ¥ Docker å®¹å™¨çŠ¶æ€: `docker ps`

2ï¸âƒ£ æ£€æŸ¥æ•°æ®åº“é…ç½®: `backend/.env.development`

3ï¸âƒ£ ç¡®è®¤ PostgreSQL æœåŠ¡è¿è¡Œæ­£å¸¸

</div>

### ğŸŒ CORS é”™è¯¯

æ£€æŸ¥ `backend/app/config.py` ä¸­çš„ `CORS_ORIGINS` é…ç½®æ˜¯å¦åŒ…å«å‰ç«¯åœ°å€ã€‚

---

## ğŸ—ºï¸ å¼€å‘è·¯çº¿å›¾

### âœ… MVP é˜¶æ®µ

<div align="center">

- [x] ğŸ”¨ å‰åç«¯åŸºç¡€æ¶æ„
- [x] ğŸ” ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [x] ğŸ“Š ç­–ç•¥ç®¡ç†æ¨¡å—
- [x] ğŸ“ˆ å›æµ‹å¼•æ“æ¡†æ¶
- [x] ğŸ¤– æœºå™¨äººæ¨¡æ‹Ÿäº¤æ˜“
- [x] ğŸ’¬ ç¤¾åŒºè®ºå›åŠŸèƒ½
- [x] ğŸ“ æ–‡ä»¶ä¸Šä¼ ä¸‹è½½

</div>

### ğŸš§ ä¸‹ä¸€é˜¶æ®µ

<div align="center">

- [ ] ğŸ“Š å®æ—¶æ•°æ®æºæ¥å…¥ (Binance/OKX)
- [ ] ğŸ›¡ï¸ ç­–ç•¥æ²™ç®±æ‰§è¡Œç¯å¢ƒ
- [ ] ğŸ”Œ WebSocket å®æ—¶æ¨é€
- [ ] ğŸ“ˆ é«˜çº§å›¾è¡¨ç»„ä»¶
- [ ] ğŸª ç­–ç•¥å¸‚åœºåŠŸèƒ½
- [ ] ğŸ’° å®ç›˜äº¤æ˜“å¯¹æ¥

</div>

### ğŸ”® é•¿æœŸè§„åˆ’

<div align="center">

- [ ] ğŸ“± ç§»åŠ¨ç«¯ App (React Native)
- [ ] ğŸ¤– ç­–ç•¥ AI è¾…åŠ©ç”Ÿæˆ
- [ ] ğŸ¦ å¤šäº¤æ˜“æ‰€æ”¯æŒ
- [ ] â˜ï¸ äº‘ç«¯éƒ¨ç½²æ–¹æ¡ˆ

</div>

---

## ğŸ“„ è®¸å¯è¯

<div align="center">

![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

</div>

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

<div align="center">

1ï¸âƒ£ Fork æœ¬ä»“åº“

2ï¸âƒ£ åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)

3ï¸âƒ£ æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)

4ï¸âƒ£ æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)

5ï¸âƒ£ å¼€å¯ Pull Request

</div>

---

## ğŸ“ è”ç³»æ–¹å¼

<div align="center">

- ğŸ› **æŠ¥å‘Šé—®é¢˜**: [GitHub Issues](https://github.com/MapleQiAN/QYQuant/issues)
- ğŸ’¬ **è®¨è®ºäº¤æµ**: [GitHub Discussions](https://github.com/MapleQiAN/QYQuant/discussions)
- ğŸ“§ **é‚®ä»¶è”ç³»**: support@qyquant.com

</div>

---

## English

### ğŸ“– Overview

QYQuant is a full-stack quantitative trading platform providing strategy backtesting, paper trading, and community features. Built with a modern frontend-backend architecture supporting both Chinese and English.

### âœ¨ Features

| Feature | Description |
|:---:|:---|
| ğŸ¯ **Strategy Management** | Create, edit, and version control trading strategies |
| ğŸ“ˆ **Historical Backtesting** | High-performance backtesting engine powered by Celery |
| ğŸ¤– **Paper Trading** | Simulated trading bots with real-time monitoring |
| ğŸ’¬ **Community Forum** | Share strategies, comments, likes, and tipping |
| ğŸ“ **File Management** | Upload/download strategy files with version control |
| ğŸ” **User System** | JWT authentication, profiles, and social features |

### ğŸš€ Quick Start

#### ğŸ“‹ Prerequisites

<div align="center">

![Node.js](https://img.shields.io/badge/Node.js-18+-339933?logo=node.js&logoColor=white)
![Python](https://img.shields.io/badge/Python-3.10+-blue?logo=python&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-Optional-2496ED?logo=docker&logoColor=white)

</div>

#### ğŸ”§ Backend Setup

```bash
cd backend
docker-compose up -d
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
.\.venv\Scripts\Activate.ps1  # Windows
pip install -r requirements.txt
flask --app app run
```

<div align="center">

**ğŸŒ Backend URL**: `http://127.0.0.1:5000`

**ğŸ”‘ Default Account**: `admin / admin123`

</div>

#### ğŸ¨ Frontend Setup

```bash
cd frontend
npm install
npm run dev
```

<div align="center">

**ğŸŒ Frontend URL**: `http://127.0.0.1:5173`

</div>

### ğŸ“¡ API Documentation

**Base URL**: `/api`

#### âœ… Success Response

```json
{ "code": 0, "message": "ok", "data": {...}, "request_id": "..." }
```

#### ğŸ”Œ Main Endpoints

<div align="center">

| Method | Endpoint | Description |
|:---:|:-----|:-----|
| POST | `/api/auth/login` | User login |
| GET | `/api/users/me` | Current user info |
| GET | `/api/strategies/recent` | Recent strategies |
| POST | `/api/backtests/run` | Create backtest job |
| GET | `/api/backtests/job/<id>` | Job status and result |
| GET | `/api/bots/recent` | Recent bots |
| GET | `/api/forum/hot` | Hot forum posts |

</div>

<div align="center">

ğŸ“– **Visit** [`/api/docs`](http://localhost:5000/api/docs) **for full Swagger documentation**

</div>

---

<div align="center">

Made with â¤ï¸ by QYQuant Team

![GitHub stars](https://img.shields.io/github/stars/MapleQiAN/QYQuant?style=social)
![GitHub forks](https://img.shields.io/github/forks/MapleQiAN/QYQuant?style=social)

</div>
